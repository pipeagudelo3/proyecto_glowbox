{% extends "base.html" %}
{% block title %}Mis pedidos · Glowbox{% endblock %}

{% block content %}
  <h2>Mis pedidos</h2>

  {% if orders %}
    <div class="grid">
      {% for o in orders %}
        <article class="card">
          <h3 class="card-title">
            Pedido {{ o.numero }}
          </h3>

          <p style="margin:.25rem 0; color:var(--muted);">
            Fecha: {{ o.created_at|date:"Y-m-d H:i" }}
          </p>

          <p style="margin:.25rem 0;">
            Total: <strong>${{ o.total }}</strong>
          </p>

          {# Si tu modelo Order tiene un campo choices de estado: #}
          {% if o.get_status_display %}
            <p style="margin:.25rem 0;">Estado: {{ o.get_status_display }}</p>
          {% endif %}

          <a class="btn btn-primary"
             href="{% url 'orders:order_detail' numero=o.numero %}">
            Ver detalle
          </a>
        </article>
      {% endfor %}
    </div>
  {% else %}
    <p>No tienes pedidos aún.</p>
  {% endif %}
{% endblock %}
